(this["webpackJsonp@axetroy/blog"]=this["webpackJsonp@axetroy/blog"]||[]).push([[8],{235:function(e){e.exports=JSON.parse('{"owner":"axetroy","repo":"blog","todo_repo":"todo","github_client_id":"b8257841dd7ca5eef2aa","github_client_secret":"4da33dd6fcb0a01d395945ad18613ecf9c12079e"}')},236:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var r=n(242),a=n.n(r),o=n(235),l=new a.a({withCredentials:!1,responseType:"json"});l.authenticate({type:"oauth",key:o.github_client_id,secret:o.github_client_secret}),t.a=l},238:function(e,t,n){"use strict";var r=n(241),a=n(237);t.a=function(e){return{updateOwner:function(e,t){return function(){return{OWNER:t}}},updateShowCases:function(e,t){return function(){return{SHOW_CASES:t}}},updateTodo:function(e,t,n){return function(){return{TODO:Object(a.a)({},e.TODO,{},Object(r.a)({},t,n))}}},updateTodoList:function(e,t){return function(){return{TODOS:t}}},updateTodoLabel:function(e,t){return function(){return{TODO_LABELS:t}}},updateRepositories:function(e,t){return function(){return{REPOS:t}}},updateArticles:function(e,t){return function(){return{POSTS:t}}},updateArticle:function(e,t,n){return function(){return{POST:Object(a.a)({},e.POST,{},Object(r.a)({},t,n))}}},updateStackoverflows:function(e,t){return function(){return{STACKOVERFLOWS:t}}},updateStackoverflow:function(e,t,n){return function(){return{STACKOVERFLOW:Object(a.a)({},e.STACKOVERFLOW,{},Object(r.a)({},t,n))}}},updateGistList:function(e,t){return function(){return{GISTS:t}}},updateGist:function(e,t,n){return function(){return{GIST:Object(a.a)({},e.GIST,{},Object(r.a)({},t,n))}}},updateFollowers:function(e,t){return function(){return{FOLLOWERS:t}}}}}},253:function(e,t,n){"use strict";t.__esModule=!0,n(254);var r,a=n(255),o=(r=a)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},254:function(e,t,n){},255:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(256);var l=c(n(0));c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var u=(a=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.className,r=e.mega,a=e.spin,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["name","className","mega","spin"]),u=[r?"mega-octicon":"octicon","octicon-"+t];return a&&u.push("spin-octicon"),n&&u.push(n),l.default.createElement("span",o({},c,{className:u.join(" ")}))},t}(l.default.Component),r.defaultProps={mega:!1,spin:!1},a);t.default=u,u.propTypes={},e.exports=t.default},256:function(e,t,n){},365:function(e,t,n){},383:function(e,t,n){"use strict";n.r(t);var r=n(239),a=n.n(r),o=(n(139),n(93)),l=n(12),c=n(15),u=n(14),s=n(11),i=n(13),p=n(232),f=n(70),m=n(0),d=n.n(m),h=n(253),b=n.n(h),E=n(36),g=n(92),v=n(235),O=n(236),_=n(238),w=(n(365),"https://github.com/");function y(e){return w+e}function S(e,t){return w+e+"/issues/"+t}var k={IssuesEvent:function(e){var t=e.repo.name,n=e.payload,r=n.action,a=n.issue;switch(r){case"assigned":case"unassigned":return;case"labeled":return"";case"unlabeled":return;case"opened":return d.a.createElement("span",null,d.a.createElement("span",{className:"green"},"\u521b\u5efa",d.a.createElement(b.a,{name:"issue-closed",mega:!0})),d.a.createElement("a",{href:S(t,a.number),target:"_blink",rel:"noopener noreferrer"},t,"#",a.number));case"edited":case"milestoned":case"demilestoned":return;case"closed":return d.a.createElement("span",null,d.a.createElement("span",{className:"red"},"\u5173\u95ed",d.a.createElement(b.a,{name:"issue-closed",mega:!0})),d.a.createElement("a",{href:S(t,a.number),target:"_blink",rel:"noopener noreferrer"},t,"#",a.number));case"reopened":return}},IssueCommentEvent:function(e){var t=e.repo.name,n=e.payload,r=n.action,a=n.issue;switch(r){case"created":return d.a.createElement("span",null,"\u5728",d.a.createElement("a",{href:S(t,a.number),target:"_blank",rel:"noopener noreferrer"},t,"(#",a.number,")"),"\u4e2d\u7559\u4e0b\u8bc4\u8bba");case"updated":return d.a.createElement("span",null,"\u66f4\u65b0",d.a.createElement("a",{href:S(t,a.number),target:"_blank",rel:"noopener noreferrer"},t,"(#",a.number,")"),"\u4e2d\u7684\u8bc4\u8bba");case"deleted":return d.a.createElement("span",null,"\u5220\u9664",d.a.createElement("a",{href:S(t,a.number),target:"_blank",rel:"noopener noreferrer"},t,"(#",a.number,")"),"\u4e2d\u7684\u8bc4\u8bba")}},CreateEvent:function(e){var t=(e.repo||{}).name,n=e.payload,r=n.ref_type,a=n.ref;switch(r){case"tag":return d.a.createElement("span",null,"\u53d1\u5e03",d.a.createElement("a",{href:y(t),target:"_blink"},t),d.a.createElement(b.a,{name:"tag",mega:!0}),a);case"repository":return d.a.createElement("span",null,"\u521b\u5efa",d.a.createElement(b.a,{name:"repo",mega:!0}),d.a.createElement("a",{href:y(t),target:"_blink"},t));case"branch":return d.a.createElement("span",null,"\u521b\u5efa",d.a.createElement("a",{href:y(t),target:"_blank",rel:"noopener noreferrer"},t),d.a.createElement(b.a,{name:"git-branch",mega:!0}),a)}},PushEvent:function(e){var t=(e.repo||{}).name,n=e.payload,r=n.size,a=n.ref,o=n.head,l=a.replace("refs/heads/","");return d.a.createElement("span",null,"\u63d0\u4ea4 ",d.a.createElement("b",null,r)," \u4e2acommit\u5230",d.a.createElement("a",{href:y(t)+"/commits/"+o,target:"_blink",rel:"noopener noreferrer"},t,"@",l))},WatchEvent:function(e){var t=(e.repo||{}).name;switch(e.payload.action){case"started":return d.a.createElement("span",null,"\u70b9\u8d5e",d.a.createElement(b.a,{name:"thumbsup",mega:!0}),d.a.createElement("a",{href:y(t),rel:"noopener noreferrer",target:"_blank"},t))}},ForkEvent:function(e){var t=(e.repo||{}).name,n=e.payload.forkee;return d.a.createElement("span",null,d.a.createElement(b.a,{name:"repo-forked",mega:!0}),d.a.createElement("a",{href:y(t),target:"_blank",rel:"noopener noreferrer"},t)," ","\u6d3e\u751f"," ",d.a.createElement("a",{href:y(n.full_name),target:"_blank",rel:"noopener noreferrer"},n.full_name))},PullRequestEvent:function(e){var t=e.repo.name,n=e.payload,r=n.action,a=n.number;switch(r){case"opened":return d.a.createElement("span",null,"\u53d1\u8d77 PR",d.a.createElement(b.a,{name:"git-pull-request",mega:!0}),d.a.createElement("a",{href:y(t)+"/pull/"+a,target:"_blank",rel:"noopener noreferrer"},t,"#",a));case"closed":return d.a.createElement("span",null,"\u5173\u95ed PR",d.a.createElement(b.a,{name:"git-pull-request",mega:!0}),d.a.createElement("a",{href:y(t)+"/pull/"+a,target:"_blank",rel:"noopener noreferrer"},t,"#",a));case"reopened":return d.a.createElement("span",null,"\u91cd\u542f PR",d.a.createElement(b.a,{name:"git-pull-request",mega:!0}),d.a.createElement("a",{href:y(t)+"/pull/"+a,target:"_blank",rel:"noopener noreferrer"},t,"#",a))}},DeleteEvent:function(e){var t=(e.repo||{}).name,n=e.payload.ref;return d.a.createElement("span",null,"\u5220\u9664"," ",d.a.createElement("a",{href:y(t),target:"_blank",rel:"noopener noreferrer"},t),"@",n)}},j=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={events:[],latestEvent:{}},n}return Object(i.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,r,l,c,u,s,i,m=this;return a.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return this.getAllRepo().then((function(e){m.props.updateRepositories(e)})),this.getAllFollower().then((function(e){m.props.updateFollowers(e)})),h.next=4,a.a.awrap(O.a.activity.listPublicEventsForUser({username:v.owner,per_page:20,page:0}));case 4:for(e=h.sent,t=e.data,this.setState({latestEvent:t[0]}),n=[],r=!0,l=!1,c=void 0,h.prev=11,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)(i=s.value).type in k&&n.push(d.a.createElement(o.a,{placement:"top",title:Object(p.a)(new Date(i.created_at),{locale:f.a})+"\u524d"},k[i.type](i)));h.next=19;break;case 15:h.prev=15,h.t0=h.catch(11),l=!0,c=h.t0;case 19:h.prev=19,h.prev=20,r||null==u.return||u.return();case 22:if(h.prev=22,!l){h.next=25;break}throw c;case 25:return h.finish(22);case 26:return h.finish(19);case 27:this.setState({events:n});case 28:case"end":return h.stop()}}),null,this,[[11,15,19,27],[20,,22,26]])}},{key:"getAllRepo",value:function(){var e,t,n,r,o=arguments;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:1,t=o.length>1&&void 0!==o[1]?o[1]:100,l.next=4,a.a.awrap(O.a.repos.listForUser({username:v.owner,page:e,per_page:t}));case 4:if(n=l.sent,!((r=n.data).length>=t)){l.next=12;break}return l.t0=r,l.next=10,a.a.awrap(this.getAllRepo(e+1));case 10:return l.t1=l.sent,l.abrupt("return",l.t0.concat.call(l.t0,l.t1));case 12:return l.abrupt("return",r);case 13:case"end":return l.stop()}}),null,this)}},{key:"getAllFollower",value:function(){var e,t,n,r,o=arguments;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:1,t=o.length>1&&void 0!==o[1]?o[1]:100,l.next=4,a.a.awrap(O.a.users.listFollowersForUser({username:v.owner,page:e,per_page:t}));case 4:if(n=l.sent,!((r=n.data).length>=t)){l.next=12;break}return l.t0=r,l.next=10,a.a.awrap(this.getAllFollower(e+1));case 10:return l.t1=l.sent,l.abrupt("return",l.t0.concat.call(l.t0,l.t1));case 12:return l.abrupt("return",r);case 13:case"end":return l.stop()}}),null,this)}},{key:"componentDidCatch",value:function(e){console.error(e)}},{key:"render",value:function(){return d.a.createElement("div",{className:"widget widget-stat"},d.a.createElement("div",{className:"widget-header"},d.a.createElement("h3",null,d.a.createElement("a",{href:"https://github.com/".concat(v.owner),target:"_blank",rel:"noopener noreferrer"},d.a.createElement(b.a,{name:"mark-github",mega:!0}),d.a.createElement("span",{className:"middle"},"Github")))),d.a.createElement("div",{className:"stat-meta"},d.a.createElement("p",null,"\u5f00\u6e90 ",d.a.createElement("b",null,this.props.REPOS.filter((function(e){return!e.fork})).length)," ","\u4e2a\u539f\u521b\u9879\u76ee , \u6709 ",d.a.createElement("b",null,this.props.FOLLOWERS.length)," \u4e2a\u4eba\u5173\u6ce8\u6211"),d.a.createElement("p",null,"\u6536\u83b7"," ",d.a.createElement("b",null,this.props.REPOS.map((function(e){return e.stargazers_count||0})).reduce((function(e,t){return e+t}),0)||0)," ","\u4e2a Star,"," ",d.a.createElement("b",null,this.props.REPOS.map((function(e){return e.forks_count||0})).reduce((function(e,t){return e+t}),0)||0)," ","\u4e2a Fork."),d.a.createElement("p",null,"\u6700\u8fd1\u6d3b\u52a8\uff1a",d.a.createElement("b",null,this.state.events.length&&this.state.latestEvent?Object(p.a)(new Date(this.state.latestEvent.created_at),{locale:f.a})+"\u524d":"")),d.a.createElement("ul",{className:"event-list"},this.state.events.filter((function(e){return e})).slice(0,10).map((function(e,t){return d.a.createElement("li",{key:t},e)})))))}}]),t}(m.Component);t.default=Object(g.connect)((function(e){return{GISTS:e.GISTS,REPOS:e.REPOS,FOLLOWERS:e.FOLLOWERS}}),_.a)(Object(E.f)(j))}}]);
//# sourceMappingURL=8.eaeecc12.chunk.js.map